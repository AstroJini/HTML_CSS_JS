<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js object</title>
    <script>
        function showObject(){
            // java의 map과 유사한 구조다
            // js의 객체는 별도의 class가 필요하지 않다.
            let person = {name:"hong", email:"hong@naver.com", age:30};
            // 객체 전체조회
            console.log(person);
            // 객체 특정 요소 조회 방법 1
            console.log(person.name);
            // 객체 특정 요소 조회 방법 2
            console.log(person['name']);
            
            // Object.keys(객체명) : 객체의 키를 배열형태로 반환
            const keyArr = Object.keys(person);
            for(let i=0; i<keyArr.length; i++){
                console.log(person[keyArr[i]]);
            }
            keyArr.forEach(k=>consol.log(person[k]));
            // 객체의 변경
            person.age=20;
            console.log(person.age);
        }
        function makeObject(){
            // 객체 생성 방법 1. 리터럴 방식으로 생성
            let person1 = {name:"hong1", email:"hong1@naver.com", age:30};
            // 객체 생성 방법 2. 빈 객체 생성 후 키와 값을 직접 추가
            let person2 = {};
            person2.name = "yoon";
            person2['email'] = "yoon@naver.com"
            person2.age = 23;
            person2.password = "1234";
            console.log(person2);

            // 객체 생성 방법 3. 단축속성명 방식 : key와 value값이 동일하게 사용될 때 간편하게 객체 생성하는 방식
            const name = "lee";
            const age = 30;
            const person3 = {name:name, age:age}; //일반 객체 생성 방식
            const person4 = {name, age};  //단축 속성명 방식 {name:"lee", age:30} - 내부적으로는 이렇게 생겼음

            const obj1 = {key1:"value1"};
            const obj2 = {obj1};
            console.log(obj2);

            // 스프레드 문법 | 매우 많이 사용함
            const obj3 = {a:1, b:2};
            const obj4 = {...obj3,c:3};
            console.log(obj4);

            const arr1=[1,2,3];
            const arr2=[...arr1,4,5];
            console.log(arr2);
        }
        function makeArr(){ //배열보다 리스트에 가까운 구조이다
            let fruits = ['사과', '배', '바나나'];
            // 배열요소 추가 : push
            fruits.push('포도'); 
            console.log(fruits);
            // 배열요소 마지막 값 꺼내기 : pop
            console.log(fruits.pop());
            console.log(fruits);

            // 배열의 접근: 배열명[index]
            console.log(fruits[0]);

            // 배열의 수정
            fruits[0]='오렌지'
            console.log(fruits);

            // filter, map
            const nums = [1,2,3,4,5,6];
            // filter는 값을 필터링하여 출력한다.
            const newNums1 = nums.filter(a=>a%2==0);
            console.log(newNums1);
            // map은 새로운 배열을 만들 수 있다.
            const newNums2 = nums.map(a=>a*a);
            console.log(newNums2);
        }
        function makeObjArr(){
            // name, age로 이루어진 객체 3개를 배열에 담기 =>리터럴 방식
            let person5 = {name:"hong",age:20};
            let person6 = {name:"gill",age:35};
            let person7 = {name:"dong",age:30};
            // 모든 객체에 email(test@naver.com)을 추가
            let people = [person5,person6, person7];
            for(let i=0; i<people.length; i++){
                people[i].email="test@naver.com"
            }
            const newPeople = people.map(a=>{return {...a,email:"test@naver.com"}});

            console.log(people);
            console.log(newPeople);
        }
        function convertType(){
            let st1 = "10";
            let st2 = "hello";
            let num1 = Number(st1); // 문자를 숫자로 형변환
            console.log(typeof num1);
            num1=String(num1); // 숫자를 문자로 형변환
            let num2 = Number(st2);
            // NaN(Not a Number) error발생
            console.log(num2);

            // ==은 타입은 체크하지 않음 | ===타입까지 체크
            console.log(10 == '10'); // true
            console.log(10 === '10'); //false

            let var1; //undefined이 할당
            let var2 = null; //null이 할당
            console.log(var1==var2); //true
            console.log(var1===var2); //false


        }
        </script>
</head>
<body>
    <h2>javascript 객체</h2>
    <button onclick="showObject()">객체 조회</button>
    <button onclick="makeObject()">객체 생성</button>
    <button onclick="makeArr()">배열 생성</button>
    <button onclick="makeObjArr()">배열안에 객체 생성</button>
    <button onclick="convertType()">형변환</button>
</body>
</html>